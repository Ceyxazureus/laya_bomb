package game;

message QuitGameReq {
  	required int32 session = 1;
  	required int32 roomid = 2;
	required int32 status = 3;
}

message QuitGameRep {
  	required int32 session = 1;
  	required int32 roomid = 2;
	required int32 status = 3;
	optional int32 uid = 4;
}

// pos={type,type,type}
// type此位置墙的类型，1 石墙 2 砖墙 3 空地
message MapNtf{
	required int32 session = 1;
	repeated int32 pos = 2;
	repeated int32 wall = 3;
}

// 通知给服务端自己最新的位置信息pos={x,y,pos}
message SelfMessageNtf {
	required int32 session = 1;
	repeated int32 pos = 2;
}

// 游戏场景里所有人的位置信息pmsg={uid,x,y,pos, uid,x,y, pos}
// uid x y pos
message GameMessageNtf {
	required int32 session = 1;
	repeated int32 pmsg = 2;
}

// opt = {1,uid1,uid2,i,2,j,id}
// 1:uid1拆除uid2位于i处的炸弹
// 2:在j处放置一个id类型的炸弹
message OperateReq {
	required int32 session = 1;
	required int32 optn = 2;
	repeated int32 opt = 3;

}

// result = {1,result1,2,result2}
// 1:1的请求的结果
// 2:2类型的请求的结果
//message OperateRep {
//	required int32 session = 1;
//	repeated int32 result = 2; 
//}

// opt = {
// uid1,uid2,i,       uid1 拆除uid2 位于i处的炸弹
// uid,j,id,          uid 在j处放置一个id类型的炸弹
// uid,j,p1,p2,p3,p4  uid 放置在j位置的炸弹炸掉了，炸掉的墙为p1,p2,p3,p4
//}
message OperateNtf {
	required int32 session = 1;
	required int32 result = 2;
	repeated int32 opt = 3;
	optional int32 uid = 4;
	optional int32 score = 5; 

}

// opt={uid,score,uid,score} 分数状态
message GameEndNtf {
	required int32 session = 1;
	repeated int32 result = 2;
}

message SetSession {
	required int32 session = 1;
}